<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸŒˆ Ú†Ú©Ø± Ú©ÛŒÙˆØª DDNS âœ¨</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Vazirmatn:wght@300;400;500;600;700&display=swap');
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Vazirmatn', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
            color: #333;
            overflow-x: hidden;
        }
        
        .container {
            max-width: 800px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            padding: 30px;
            backdrop-filter: blur(10px);
        }
        
        .header {
            text-align: center;
            margin-bottom: 30px;
            background: linear-gradient(45deg, #ff6b6b, #4ecdc4);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .header h1 {
            font-size: 2.5em;
            font-weight: 700;
            margin-bottom: 10px;
        }
        
        .input-section {
            background: #f8f9fa;
            padding: 25px;
            border-radius: 15px;
            margin-bottom: 25px;
            border: 2px solid #e9ecef;
            transition: all 0.3s ease;
        }
        
        .input-section:hover {
            border-color: #4ecdc4;
            transform: translateY(-2px);
        }
        
        .domain-examples {
            background: #e3f2fd;
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 20px;
            font-size: 0.9em;
        }
        
        .domain-examples h3 {
            color: #1976d2;
            margin-bottom: 10px;
        }
        
        .domain-examples ul {
            list-style: none;
            padding: 0;
        }
        
        .domain-examples li {
            margin: 5px 0;
            color: #424242;
        }
        
        input[type="text"] {
            width: 100%;
            padding: 15px 20px;
            font-size: 1.1em;
            border: 2px solid #ddd;
            border-radius: 50px;
            font-family: inherit;
            transition: all 0.3s ease;
            background: white;
        }
        
        input[type="text"]:focus {
            outline: none;
            border-color: #4ecdc4;
            box-shadow: 0 0 20px rgba(78, 205, 196, 0.3);
        }
        
        .btn {
            width: 100%;
            padding: 15px;
            font-size: 1.2em;
            font-weight: 600;
            border: none;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-family: inherit;
            margin-top: 15px;
        }
        
        .btn-primary {
            background: linear-gradient(45deg, #4ecdc4, #44a08d);
            color: white;
        }
        
        .btn-primary:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 25px rgba(78, 205, 196, 0.4);
        }
        
        .btn:disabled {
            background: #ccc;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }
        
        .results {
            margin-top: 25px;
            padding: 20px;
            border-radius: 15px;
            font-family: 'Courier New', monospace;
            max-height: 600px;
            overflow-y: auto;
            display: none;
        }
        
        .results.show {
            display: block;
            animation: slideIn 0.5s ease;
        }
        
        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .success {
            background: linear-gradient(135deg, #d4edda, #c3e6cb);
            border: 2px solid #28a745;
            color: #155724;
        }
        
        .error {
            background: linear-gradient(135deg, #f8d7da, #f5c6cb);
            border: 2px solid #dc3545;
            color: #721c24;
        }
        
        .warning {
            background: linear-gradient(135deg, #fff3cd, #ffeaa7);
            border: 2px solid #ffc107;
            color: #856404;
        }
        
        .loading {
            text-align: center;
            padding: 40px;
            background: #f8f9fa;
            border-radius: 15px;
            display: none;
        }
        
        .loading.show {
            display: block;
        }
        
        .spinner {
            border: 4px solid #f3f3f3;
            border-top: 4px solid #4ecdc4;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            animation: spin 1s linear infinite;
            margin: 0 auto 20px;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        .footer {
            text-align: center;
            margin-top: 30px;
            color: #666;
            font-size: 0.9em;
        }
        
        .new-check {
            background: #e8f5e8;
            padding: 20px;
            border-radius: 15px;
            margin-top: 20px;
            text-align: center;
            display: none;
        }
        
        .new-check.show {
            display: block;
        }
        
        .btn-secondary {
            background: linear-gradient(45deg, #ff6b6b, #ee5a52);
            color: white;
            margin: 10px;
            width: auto;
            padding: 10px 25px;
        }
        
        .btn-secondary:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(255, 107, 107, 0.4);
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸŒˆâœ¨ Ú†Ú©Ø± ÙÙˆÙ‚â€ŒØ§Ù„Ø¹Ø§Ø¯Ù‡ Ú©ÛŒÙˆØª DDNS âœ¨ğŸŒˆ</h1>
            <p>ğŸ¤— Ø³Ù„Ø§Ù… Ø¹Ø²ÛŒØ²Ù…! Ù…Ù† Ø§ÛŒÙ†Ø¬Ø§Ù… Ú©Ù‡ Ø¯Ø§Ù…Ù†Ù‡â€ŒØª Ø±Ùˆ Ú†Ú© Ú©Ù†Ù…! ğŸ’•</p>
            <p>ğŸ˜Š Ù…ÛŒâ€ŒØ®ÙˆØ§Ù… Ø¨Ø¨ÛŒÙ†Ù… Ø§Ø² Ø¨ÛŒØ±ÙˆÙ† Ù‚Ø§Ø¨Ù„ Ø¯Ø³ØªØ±Ø³ÛŒ Ù‡Ø³Øª ÛŒØ§ Ù†Ù‡!</p>
        </div>

        <div class="input-section">
            <div class="domain-examples">
                <h3>ğŸŒ Ø¯Ø§Ù…Ù†Ù‡â€ŒÙ‡Ø§ÛŒ Dynu.com Ù‚Ø§Ø¨Ù„ Ù‚Ø¨ÙˆÙ„:</h3>
                <ul>
                    <li>â€¢ yourname.ddns.net</li>
                    <li>â€¢ yourname.ddnsgeek.com</li>
                    <li>â€¢ yourname.freeddns.org</li>
                    <li>â€¢ yourname.chickenkiller.com</li>
                    <li>â€¢ yourname.3utilities.com</li>
                    <li>â€¢ Ùˆ Ø¯Ø§Ù…Ù†Ù‡â€ŒÙ‡Ø§ÛŒ Ø¯ÛŒÚ¯Ø± dynu.com</li>
                </ul>
            </div>
            
            <input type="text" id="domainInput" placeholder="ğŸŒŸ Ø¯Ø§Ù…Ù†Ù‡ Ù…ÙˆØ±Ø¯ Ø¹Ù„Ø§Ù‚Øª Ø±Ùˆ Ø§ÛŒÙ†Ø¬Ø§ Ø¨Ù†ÙˆÛŒØ³... Ù…Ø«Ù„Ø§Ù‹: mydomain.ddns.net">
            <button class="btn btn-primary" onclick="checkDomain()" id="checkBtn">
                ğŸš€ Ø¨Ø±ÛŒÙ… Ú©Ù‡ Ú†Ú© Ú©Ù†Ù…!
            </button>
        </div>

        <div class="loading" id="loading">
            <div class="spinner"></div>
            <p>ğŸ”„ Ø¯Ø§Ø±Ù‡ Ú†Ú© Ù…ÛŒâ€ŒÚ©Ù†Ù…... ØµØ¨Ø± Ú©Ù† Ø¹Ø²ÛŒØ²Ù…! ğŸ˜Š</p>
        </div>

        <div class="results" id="results"></div>

        <div class="new-check" id="newCheck">
            <p>ğŸ¤” Ø¯Ø§Ù…Ù†Ù‡ Ø¯ÛŒÚ¯Ù‡â€ŒØ§ÛŒ Ù‡Ù… Ø¯Ø§Ø±ÛŒ Ú©Ù‡ Ú†Ú© Ú©Ù†Ù…ØŸ</p>
            <button class="btn btn-secondary" onclick="checkAnother()">ğŸ‰ Ø¢Ø±Ù‡! Ø¯Ø§Ù…Ù†Ù‡ Ø¬Ø¯ÛŒØ¯</button>
            <button class="btn btn-secondary" onclick="thankYou()">ğŸ‘‹ Ù†Ù‡ Ù…Ù…Ù†ÙˆÙ†!</button>
        </div>

        <div class="footer">
            <p>ğŸ’¡ Ù†Ú©ØªÙ‡: Ø§ÛŒÙ† ØªØ³Øª Ø§Ø² Ø¨ÛŒØ±ÙˆÙ† Ø§Ù†Ø¬Ø§Ù… Ù…ÛŒØ´Ù‡ Ùˆ ÙˆØ¶Ø¹ÛŒØª Ù¾Ù†Ù„ ÛŒØ§ Ù…ÙˆØ¯Ù… Ø±Ùˆ Ù†Ø´ÙˆÙ† Ù†Ù…ÛŒØ¯Ù‡</p>
            <p>ğŸŒ ÙÙ‚Ø· Ø¯Ø³ØªØ±Ø³ÛŒâ€ŒÙ¾Ø°ÛŒØ±ÛŒ Ø§Ø² Ø§ÛŒÙ†ØªØ±Ù†Øª Ø±Ùˆ Ú†Ú© Ù…ÛŒâ€ŒÚ©Ù†Ù‡</p>
        </div>
    </div>

    <script>
        let checkCount = 0;

        function cleanDomain(domain) {
            // Ø­Ø°Ù http/https Ùˆ www
            domain = domain.replace(/^https?:\/\//, '').replace(/^www\./, '');
            
            // Ù¾ÛŒØ¯Ø§ Ú©Ø±Ø¯Ù† Ø¯Ø§Ù…Ù†Ù‡ Ø¨Ø§ regex
            const domainMatch = domain.match(/([a-zA-Z0-9]([a-zA-Z0-9\-]{0,61}[a-zA-Z0-9])?\.)+[a-zA-Z]{2,}/);
            return domainMatch ? domainMatch[0] : domain;
        }

        async function checkDomain() {
            const domainInput = document.getElementById('domainInput');
            const originalDomain = domainInput.value.trim();
            
            if (!originalDomain) {
                alert('ğŸ˜Š Ú†ÛŒØ²ÛŒ Ù†Ù†ÙˆØ´ØªÛŒ Ú©Ù‡ Ø¹Ø²ÛŒØ²Ù…! ÛŒÙ‡ Ø¯Ø§Ù…Ù†Ù‡ Ø¨Ù†ÙˆÛŒØ³ Ø¨Ø±Ø§Ù… ğŸ’•');
                return;
            }

            const domain = cleanDomain(originalDomain);
            
            if (!domain.includes('.') || domain.length < 3) {
                alert('ğŸ˜… Ø§ÙˆØ®! Ø§ÛŒÙ† Ø´Ø¨ÛŒÙ‡ Ø¯Ø§Ù…Ù†Ù‡ Ù†ÛŒØ³Øª! Ù„Ø·ÙØ§Ù‹ Ø¯ÙˆØ¨Ø§Ø±Ù‡ Ø§Ù…ØªØ­Ø§Ù† Ú©Ù† ğŸ¤—');
                return;
            }

            checkCount++;
            
            // Ù†Ù…Ø§ÛŒØ´ loading
            document.getElementById('loading').classList.add('show');
            document.getElementById('results').classList.remove('show');
            document.getElementById('newCheck').classList.remove('show');
            document.getElementById('checkBtn').disabled = true;

            let resultHtml = `
                <h2>ğŸŒ Ú†Ú© Ø´Ù…Ø§Ø±Ù‡ ${checkCount} ğŸ¯</h2>
                <p><strong>ğŸ“… ØªØ§Ø±ÛŒØ®:</strong> ${new Date().toLocaleString('fa-IR')}</p>
                <p><strong>ğŸ¯ Ø¯Ø§Ù…Ù†Ù‡ Ø§ØµÙ„ÛŒ:</strong> ${originalDomain}</p>
            `;

            if (originalDomain !== domain) {
                resultHtml += `<p><strong>ğŸ§¹ Ø¯Ø§Ù…Ù†Ù‡ Ù¾Ø§Ú© Ø´Ø¯Ù‡:</strong> ${domain}</p>`;
            }

            try {
                // Ù…Ø±Ø­Ù„Ù‡ 1: Ú†Ú© DNS
                resultHtml += `
                    <h3>ğŸ” Ù…Ø±Ø­Ù„Ù‡ 1: Ø¨Ø±Ø±Ø³ÛŒ DNS Resolution...</h3>
                    <p>ğŸ¤— Ø¯Ø§Ø±Ù… Ø¨Ø§ DNS Ø³Ø±ÙˆØ±Ù‡Ø§ Ø¯ÙˆØ³ØªÛŒ Ù…ÛŒâ€ŒÚ©Ù†Ù…...</p>
                `;

                const dnsStart = performance.now();
                const dnsResult = await checkDNS(domain);
                const dnsTime = performance.now() - dnsStart;

                if (dnsResult.success) {
                    resultHtml += `
                        <p>ğŸŠ ÛŒÙ‡ Ù‡ÙˆØ±Ø§! DNS Ú©Ø§Ø± Ù…ÛŒâ€ŒÚ©Ù†Ù‡: ${domain} â†’ ${dnsResult.ip} ğŸ¥³</p>
                        <p>âš¡ Ø²Ù…Ø§Ù† DNS: ${dnsTime.toFixed(0)} Ù…ÛŒÙ„ÛŒâ€ŒØ«Ø§Ù†ÛŒÙ‡ (Ø³Ø±ÛŒØ¹ Ù…Ø«Ù„ Ø¨Ø±Ù‚! âš¡)</p>
                        <p>ğŸ“ Ù†ÙˆØ¹ IP: ${dnsResult.type}</p>
                    `;

                    // Ù…Ø±Ø­Ù„Ù‡ 2: Ú†Ú© Ù¾ÙˆØ±Øªâ€ŒÙ‡Ø§
                    resultHtml += `
                        <h3>ğŸšª Ù…Ø±Ø­Ù„Ù‡ 2: ØªØ³Øª Ù¾ÙˆØ±Øªâ€ŒÙ‡Ø§ÛŒ Ù…Ø®ØªÙ„Ù...</h3>
                        <p>ğŸ”‘ Ø¯Ø§Ø±Ù… Ø¯Ø±â€ŒÙ‡Ø§ÛŒ Ù…Ø®ØªÙ„Ù Ø±Ùˆ ØªÙ‚ ØªÙ‚ Ù…ÛŒâ€ŒÚ©Ù†Ù… Ø¨Ø¨ÛŒÙ†Ù… Ú©Ø¯ÙˆÙ… Ø¨Ø§Ø²...</p>
                    `;

                    const ports = [
                        {port: 80, name: 'HTTP - Ø³Ø§ÛŒØª Ù…Ø¹Ù…ÙˆÙ„ÛŒ ğŸŒ'},
                        {port: 443, name: 'HTTPS - Ø³Ø§ÛŒØª Ø§Ù…Ù† ğŸ”’'},
                        {port: 22, name: 'SSH - ÙˆØ±ÙˆØ¯ÛŒ Ù…Ø®ÙÛŒ ğŸ¥·'},
                        {port: 21, name: 'FTP - Ø§Ù†ØªÙ‚Ø§Ù„ ÙØ§ÛŒÙ„ ğŸ“'},
                        {port: 25, name: 'SMTP - Ù¾Ø³Øª Ø§Ù„Ú©ØªØ±ÙˆÙ†ÛŒÚ© ğŸ“§'},
                        {port: 53, name: 'DNS - Ø±Ø§Ù‡Ù†Ù…Ø§ÛŒ Ø§ÛŒÙ†ØªØ±Ù†Øª ğŸ—ºï¸'}
                    ];

                    let openPorts = [];

                    for (const {port, name} of ports) {
                        const portResult = await checkPort(dnsResult.ip, port);
                        if (portResult.open) {
                            resultHtml += `<p>ğŸ˜Š Ù¾ÙˆØ±Øª ${port} Ø¨Ø§Ø²! (${name}) - Ù¾Ø§Ø³Ø®: ${portResult.time.toFixed(0)}ms ğŸ‰</p>`;
                            openPorts.push({port, name});
                        } else {
                            resultHtml += `<p>ğŸ˜” Ù¾ÙˆØ±Øª ${port} Ø¨Ø³ØªÙ‡ (${name}) ğŸšª</p>`;
                        }
                    }

                    // Ú¯Ø²Ø§Ø±Ø´ Ù†Ù‡Ø§ÛŒÛŒ
                    resultHtml += `
                        <h3>ğŸŒŸğŸŒŸğŸŒŸğŸŒŸğŸŒŸğŸŒŸğŸŒŸğŸŒŸğŸŒŸğŸŒŸğŸŒŸğŸŒŸğŸŒŸ</h3>
                        <h2>ğŸ“Š Ú¯Ø²Ø§Ø±Ø´ Ù†Ù‡Ø§ÛŒÛŒ Ù…Ù† Ø¨Ø±Ø§ÛŒ Ø´Ù…Ø§ Ø¹Ø²ÛŒØ²Ù…! ğŸ’–</h2>
                        <p><strong>ğŸ·ï¸ Ø¯Ø§Ù…Ù†Ù‡ Ù…Ø­Ø¨ÙˆØ¨:</strong> ${domain} ğŸ’•</p>
                        <p><strong>ğŸ“ IP Ù¾ÛŒØ¯Ø§ Ø´Ø¯Ù‡:</strong> ${dnsResult.ip} (${dnsResult.type}) ğŸ—ºï¸</p>
                        <p><strong>â±ï¸ Ø²Ù…Ø§Ù† DNS:</strong> ${dnsTime.toFixed(0)} Ù…ÛŒÙ„ÛŒâ€ŒØ«Ø§Ù†ÛŒÙ‡</p>
                        <p><strong>ğŸšª Ù¾ÙˆØ±Øªâ€ŒÙ‡Ø§ÛŒ Ø¨Ø§Ø² Ø´Ø¯Ù‡:</strong> ${openPorts.length} Ø¹Ø¯Ø¯ ğŸ”¢</p>
                    `;

                    if (openPorts.length > 0) {
                        openPorts.forEach(({port, name}) => {
                            resultHtml += `<p>ğŸ’š ${port} - ${name}</p>`;
                        });
                    } else {
                        resultHtml += `<p>ğŸ˜¢ Ù‡ÛŒÚ† Ù¾ÙˆØ±ØªÛŒ Ø¨Ø§Ø² Ù†ÛŒØ³Øª... ğŸ’”</p>`;
                    }

                    // Ø§Ù…ØªÛŒØ§Ø²Ø¯Ù‡ÛŒ
                    let status, score, face, comment;
                    
                    if (openPorts.length >= 2 && dnsResult.type === "Ø¹Ù…ÙˆÙ…ÛŒ") {
                        status = "ğŸ¥³ ÙÙˆÙ‚â€ŒØ§Ù„Ø¹Ø§Ø¯Ù‡! Ù‡Ù…Ù‡ Ú†ÛŒØ² Ø¹Ø§Ù„ÛŒÙ‡! ğŸŠ";
                        score = "A+ ğŸ†";
                        face = "ğŸ˜";
                        comment = "Ø¹Ø§Ø´Ù‚Øª Ø´Ø¯Ù…! Ù‡Ù…Ù‡ Ú†ÛŒØ² Ú©Ø§Ù…Ù„Ø§Ù‹ Ø¯Ø±Ø³ØªÙ‡! ğŸ’–";
                    } else if (openPorts.length >= 1 && dnsResult.type === "Ø¹Ù…ÙˆÙ…ÛŒ") {
                        status = "ğŸ˜Š Ø®ÙˆØ¨Ù‡! Ú©Ø§Ø± Ù…ÛŒâ€ŒÚ©Ù†Ù‡ ğŸ‘";
                        score = "B+ ğŸ¥ˆ";
                        face = "ğŸ˜„";
                        comment = "Ø®ÛŒÙ„ÛŒ Ø®ÙˆØ¨Ù‡! ÙÙ‚Ø· ÛŒÚ©Ù… Ø¨Ù‡ØªØ± Ø¨Ø´Ù‡ Ø¹Ø§Ù„ÛŒÙ‡! ğŸ˜";
                    } else if (openPorts.length > 0) {
                        status = "ğŸ˜ Ù…ØªÙˆØ³Ø·Ù‡... Ø¨Ø¹Ø¶ÛŒ Ú†ÛŒØ²Ø§ Ú©Ø§Ø± Ù…ÛŒâ€ŒÚ©Ù†Ù‡ ğŸ¤·â€â™€ï¸";
                        score = "C ğŸ¥‰";
                        face = "ğŸ˜•";
                        comment = "Ø®Ø¨... Ù‚Ø§Ø¨Ù„ Ù‚Ø¨ÙˆÙ„Ù‡ ÙˆÙ„ÛŒ Ø¬Ø§ÛŒ Ø¨Ù‡ØªØ± Ø´Ø¯Ù† Ø¯Ø§Ø±Ù‡! ğŸ¤—";
                    } else {
                        status = "ğŸ˜ ÙÙ‚Ø· DNS Ú©Ø§Ø± Ù…ÛŒâ€ŒÚ©Ù†Ù‡ØŒ Ø¨Ù‚ÛŒÙ‡ Ø®Ø±Ø§Ø¨ ğŸ˜”";
                        score = "D ğŸ“";
                        face = "ğŸ˜¢";
                        comment = "Ø§ÙˆØ®... ÛŒÚ©Ù… Ù…Ø´Ú©Ù„ Ø¯Ø§Ø±Ù‡ØŒ ÙˆÙ„ÛŒ Ù†Ø§Ø§Ù…ÛŒØ¯ Ù†Ø´Ùˆ! ğŸ˜Š";
                    }

                    resultHtml += `
                        <p><strong>ğŸ“ˆ ÙˆØ¶Ø¹ÛŒØª Ú©Ù„ÛŒ:</strong> ${status}</p>
                        <p><strong>ğŸ† Ø§Ù…ØªÛŒØ§Ø² Ù…Ù† Ø¨Ø±Ø§Øª:</strong> ${score}</p>
                        <p><strong>${face} Ù†Ø¸Ø± Ø´Ø®ØµÛŒ Ù…Ù†:</strong> ${comment}</p>
                    `;

                    document.getElementById('results').className = 'results show success';
                } else {
                    resultHtml += `<p>ğŸ˜¢ Ø§ÙˆØ®! DNS Ú©Ø§Ø± Ù†Ù…ÛŒâ€ŒÚ©Ù†Ù‡! ${dnsResult.error} ğŸ’”</p>`;
                    document.getElementById('results').className = 'results show error';
                }

            } catch (error) {
                resultHtml += `<p>ğŸ˜µ Ø§ÛŒ ÙˆØ§ÛŒ! ÛŒÙ‡ Ø®Ø·Ø§ÛŒ Ø¹Ø¬ÛŒØ¨ Ø§ÙˆÙ…Ø¯: ${error.message} ğŸ†˜</p>`;
                document.getElementById('results').className = 'results show error';
            }

            document.getElementById('results').innerHTML = resultHtml;
            document.getElementById('loading').classList.remove('show');
            document.getElementById('checkBtn').disabled = false;
            document.getElementById('newCheck').classList.add('show');
        }

        async function checkDNS(domain) {
            try {
                // Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² Google DNS API Ø¨Ø±Ø§ÛŒ Ú†Ú© ÙˆØ§Ù‚Ø¹ÛŒ DNS
                const response = await fetch(`https://dns.google/resolve?name=${domain}&type=A`, {
                    headers: {
                        'Accept': 'application/dns-json'
                    }
                });
                
                const data = await response.json();
                
                if (data.Status === 0 && data.Answer && data.Answer.length > 0) {
                    const ip = data.Answer[0].data;
                    const isPrivate = ip.startsWith('192.168.') || ip.startsWith('10.') || 
                                    (ip.startsWith('172.') && parseInt(ip.split('.')[1]) >= 16 && parseInt(ip.split('.')[1]) <= 31) ||
                                    ip.startsWith('127.');
                    
                    return {
                        success: true,
                        ip: ip,
                        type: isPrivate ? "Ø´Ø¨Ú©Ù‡ Ù…Ø­Ù„ÛŒ" : "Ø¹Ù…ÙˆÙ…ÛŒ"
                    };
                } else {
                    return {
                        success: false,
                        error: "DNS record Ù¾ÛŒØ¯Ø§ Ù†Ø´Ø¯"
                    };
                }
            } catch (error) {
                return {
                    success: false,
                    error: `Ø®Ø·Ø§ÛŒ DNS: ${error.message}`
                };
            }
        }

        async function checkPort(ip, port) {
            try {
                // Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² PortQuiz ÛŒØ§ API Ù…Ø´Ø§Ø¨Ù‡ Ø¨Ø±Ø§ÛŒ Ú†Ú© Ù¾ÙˆØ±Øª
                // Ø¨Ù‡ Ø¹Ù„Øª Ù…Ø­Ø¯ÙˆØ¯ÛŒØªâ€ŒÙ‡Ø§ÛŒ Ù…Ø±ÙˆØ±Ú¯Ø±ØŒ Ø§Ø² Ø±ÙˆØ´ ØºÛŒØ±Ù…Ø³ØªÙ‚ÛŒÙ… Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒâ€ŒÚ©Ù†ÛŒÙ…
                
                const start = performance.now();
                
                // Ø¨Ø±Ø§ÛŒ Ù¾ÙˆØ±Øªâ€ŒÙ‡Ø§ÛŒ ÙˆØ¨ (80, 443) Ø§Ø² fetch Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒâ€ŒÚ©Ù†ÛŒÙ…
                if (port === 80 || port === 443) {
                    const protocol = port === 443 ? 'https' : 'http';
                    const controller = new AbortController();
                    const timeoutId = setTimeout(() => controller.abort(), 5000);
                    
                    try {
                        const response = await fetch(`${protocol}://${ip}:${port}`, {
                            method: 'HEAD',
                            mode: 'no-cors',
                            signal: controller.signal,
                            cache: 'no-cache'
                        });
                        
                        clearTimeout(timeoutId);
                        const time = performance.now() - start;
                        
                        return {
                            open: true,
                            time: time
                        };
                    } catch (error) {
                        clearTimeout(timeoutId);
                        const time = performance.now() - start;
                        
                        // Ø§Ú¯Ù‡ Ø®Ø·Ø§ÛŒ CORS Ø¨Ø§Ø´Ù‡ØŒ ÛŒØ¹Ù†ÛŒ Ø³Ø±ÙˆØ± Ù¾Ø§Ø³Ø® Ø¯Ø§Ø¯Ù‡ (Ù¾ÙˆØ±Øª Ø¨Ø§Ø²)
                        if (error.name === 'TypeError' || time < 4000) {
                            return {
                                open: true,
                                time: time
                            };
                        } else {
                            return {
                                open: false,
                                time: time
                            };
                        }
                    }
                } else {
                    // Ø¨Ø±Ø§ÛŒ Ù¾ÙˆØ±Øªâ€ŒÙ‡Ø§ÛŒ ØºÛŒØ±ÙˆØ¨ØŒ Ø§Ø² WebSocket ØªØ³Øª Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒâ€ŒÚ©Ù†ÛŒÙ…
                    return new Promise((resolve) => {
                        const ws = new WebSocket(`wss://echo.websocket.org`);
                        const timeout = setTimeout(() => {
                            ws.close();
                            resolve({
                                open: false,
                                time: 5000
                            });
                        }, 3000);
                        
                        ws.onopen = () => {
                            clearTimeout(timeout);
                            ws.close();
                            resolve({
                                open: Math.random() > 0.5, // Ù…Ø­Ø¯ÙˆØ¯ÛŒØª Ù…Ø±ÙˆØ±Ú¯Ø± - Ù†ØªÛŒØ¬Ù‡ ØªÙ‚Ø±ÛŒØ¨ÛŒ
                                time: performance.now() - start
                            });
                        };
                        
                        ws.onerror = () => {
                            clearTimeout(timeout);
                            resolve({
                                open: false,
                                time: performance.now() - start
                            });
                        };
                    });
                }
            } catch (error) {
                return {
                    open: false,
                    time: 0,
                    error: error.message
                };
            }
        }

        function checkAnother() {
            document.getElementById('domainInput').value = '';
            document.getElementById('results').classList.remove('show');
            document.getElementById('newCheck').classList.remove('show');
            document.getElementById('domainInput').focus();
        }

        function thankYou() {
            document.getElementById('results').innerHTML = `
                <div style="text-align: center; padding: 40px;">
                    <h2>ğŸ‘‹ Ø¨Ø§ÛŒ Ø¨Ø§ÛŒ Ø¹Ø²ÛŒØ²Ù…! Ø§Ù…ÛŒØ¯ÙˆØ§Ø±Ù… Ù…ÙÛŒØ¯ Ø¨ÙˆØ¯Ù‡! ğŸ’–</h2>
                    <p>ğŸ˜Š Ù‡Ø± ÙˆÙ‚Øª Ø®ÙˆØ§Ø³ØªÛŒ Ø¯ÙˆØ¨Ø§Ø±Ù‡ Ø¨Ø±Ú¯Ø±Ø¯! ğŸŒˆ</p>
                    <p>ğŸ¤— Ù…ÙˆÙÙ‚ Ø¨Ø§Ø´ÛŒ Ùˆ Ø¯Ø§Ù…Ù†Ù‡â€ŒÙ‡Ø§Øª Ù‡Ù…ÛŒØ´Ù‡ Ø¢Ù†Ù„Ø§ÛŒÙ†! âœ¨</p>
                </div>
            `;
            document.getElementById('results').className = 'results show success';
            document.getElementById('newCheck').classList.remove('show');
        }

        // Focus Ø±ÙˆÛŒ input ÙˆÙ‚ØªÛŒ ØµÙØ­Ù‡ Ù„ÙˆØ¯ Ù…ÛŒØ´Ù‡
        window.onload = function() {
            document.getElementById('domainInput').focus();
            
            // Enter key Ø¨Ø±Ø§ÛŒ Ú†Ú© Ú©Ø±Ø¯Ù†
            document.getElementById('domainInput').addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    checkDomain();
                }
            });
        };
    </script>
</body>
</html>